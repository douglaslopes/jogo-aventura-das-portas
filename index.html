<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aventura das Portas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        body {
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #87CEEB, #98D8E8);
            transition: all 1.5s ease-in-out;
        }

        body.day { background: linear-gradient(135deg, #87CEEB, #98D8E8); }
        body.afternoon { background: linear-gradient(135deg, #FFA500, #FF7F50); }
        body.night { background: linear-gradient(135deg, #2C3E50, #34495E); }
        body.cold { background: linear-gradient(135deg, #ADD8E6, #B0E0E6); }
        body.hot { background: linear-gradient(135deg, #FF4500, #FF6347); }

        #game-container {
            width: 100%;
            max-width: 900px;
            aspect-ratio: 3 / 2;
            border: 3px solid #333;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        #game-world {
            position: absolute;
            width: 100%;
            height: 100%;
            background: transparent;
        }

        #start-button {
            margin-top: 20px;
            padding: 12px 25px;
            font-size: 18px;
            font-weight: bold;
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        #start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        #start-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 768px) {
            #controls {
                bottom: auto;
                top: 10px;
                right: 10px;
                font-size: 10px;
                padding: 6px;
            }

            #game-info {
                top: 10px;
                left: auto;
                right: 10px;
                font-size: 12px;
                padding: 8px;
            }

            .platform, .door, .key, #player, #enemy {
                transform: scale(0.8);
                transform-origin: top left;
            }

            .victory-message {
                font-size: 20px;
                padding: 20px;
            }

            #mobile-controls {
                display: flex;
                position: absolute;
                bottom: 10px;
                left: 50%;
                transform: translateX(-50%);
                gap: 10px;
                z-index: 1000;
            }

            .mobile-btn {
                width: 60px;
                height: 60px;
                background: rgba(0,0,0,0.6);
                color: white;
                font-size: 24px;
                border: none;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                user-select: none;
                touch-action: manipulation;
            }
        }

        #mobile-controls {
            display: none;
        }
    </style>
</head>
<body>
  <div id="game-container">
    <div id="game-world"></div>
    <div id="mobile-controls">
      <button class="mobile-btn" id="btn-left">⬅️</button>
      <button class="mobile-btn" id="btn-jump">⬆️</button>
      <button class="mobile-btn" id="btn-right">➡️</button>
    </div>
  </div>
  <script>
    let isMovingLeft = false;
    let isMovingRight = false;
    let isOnGround = true;
    let playerVelY = 0;
    const jumpStrength = 16;

    const btnLeft = document.getElementById('btn-left');
    const btnRight = document.getElementById('btn-right');
    const btnJump = document.getElementById('btn-jump');

    function setupMobileControls() {
      // Touch start
      btnLeft.addEventListener('touchstart', () => isMovingLeft = true);
      btnRight.addEventListener('touchstart', () => isMovingRight = true);
      btnJump.addEventListener('touchstart', () => {
        if (isOnGround) {
          playerVelY = -jumpStrength;
          isOnGround = false;
        }
      });

      // Touch end
      btnLeft.addEventListener('touchend', () => isMovingLeft = false);
      btnRight.addEventListener('touchend', () => isMovingRight = false);
    }

    window.addEventListener('load', setupMobileControls);
  </script>
</body>
</html>
